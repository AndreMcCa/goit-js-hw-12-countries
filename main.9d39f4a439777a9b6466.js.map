{"version":3,"sources":["webpack:///./js/pnotyfi.js","webpack:///./js/fetchCountries.js","webpack:///./index.js","webpack:///./js/refs.js","webpack:///./templates/countries.hbs","webpack:///./templates/country.hbs"],"names":["require","error","notice","pnotifySettings","stack","Stack","dir2","maxOpen","spacing1","maxStrategy","close","modal","maxClosureCausesWait","mode","sticker","width","maxTextHeight","delay","callNotification","message","type","text","title","MESSAGE","fetchCountries","searchQuery","fetch","then","response","status","Error","json","checkRequestSuccess","catch","debounce","refs","inputRef","document","querySelector","queryOutputRef","checkingLengthResponse","data","markup","length","countryInfo","classList","add","innerHTML","insertAdjacentHTML","countriesList","renderCountries","addEventListener","e","preventDefault","target","value","remove","requestOnServer","Handlebars","module","exports","template","container","depth0","helpers","partials","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","nullContext","program","noop","alias1","alias2"],"mappings":"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","file":"main.9d39f4a439777a9b6466.js","sourcesContent":["import '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nconst { error, notice, Stack } = require('@pnotify/core');\r\n\r\n\r\n\r\nconst myStack = new Stack({ \r\n    dir2: 'down',\r\n    maxOpen: 1,\r\n    spacing1: 5,\r\n    maxStrategy: close,\r\n    modal: false,\r\n    maxClosureCausesWait: false,\r\n});\r\n\r\nconst pnotifySettings = {\r\n    stack: myStack,\r\n    mode: 'light',\r\n    sticker: false,\r\n    width: '300px',\r\n    maxTextHeight: null,\r\n    delay: 2500,\r\n    \r\n}\r\n\r\nexport default function callNotification(message, type) {\r\n    \r\n    if (type === 'error') {\r\n        error({text: message, title: 'Oops!', ...pnotifySettings})\r\n    } else {\r\n        notice({text: message, title: 'Attention', ...pnotifySettings})\r\n    }\r\n\r\n}\r\n\r\n","\r\nimport callNotification from './pnotyfi.js';\r\n\r\n\r\nconst URL = 'https://restcountries.eu/rest/v2/name/';\r\nconst MESSAGE = 'Looks like something went wrong...';\r\n\r\nexport default function fetchCountries(searchQuery) {\r\n   return fetch(`${URL}${searchQuery}`).then(response => checkRequestSuccess(response)).catch(response => responseError())\r\n}\r\n\r\nfunction checkRequestSuccess(response) {\r\n\r\n    if (response.status === 404) {\r\n        throw new Error('Oops! ', MESSAGE);\r\n    }\r\n    \r\n    return response.json();\r\n}\r\n\r\nfunction responseError() {\r\n    callNotification(MESSAGE, 'error')\r\n}\r\n\r\n","const debounce = require('lodash.debounce');\n\nimport getRefs from './js/refs.js';\nimport requestOnServer from './js/fetchCountries.js';\nimport callNotification from './js/pnotyfi.js';\nimport countryInfo from './templates/country.hbs';\nimport countriesList from './templates/countries.hbs';\n\nimport './styles.css';\n\nconst MESSAGE = 'Too many matches found. Please enter a more specific query!';\nconst refs = getRefs();\nrefs.inputRef.addEventListener('input', debounce(onReadingFormData, 500));\n\n\nfunction onReadingFormData(e) {\n    e.preventDefault();\n\n    const searchQuery = e.target.value;\n\n    if (searchQuery.length  === 0) {\n\n        refs.queryOutputRef.innerHTML = '';\n        refs.queryOutputRef.classList.remove('query-output');\n\n        return\n    }\n\n    requestOnServer(searchQuery).then(checkingLengthResponse)\n}\n\nfunction checkingLengthResponse(response) {\n\n    if (response.length === 1) {\n        renderCountryCard(response);\n    } else if (response.length <= 10) {\n        renderCountries(response);\n    } else {\n        callNotification(MESSAGE);\n    }\n}\n\n\n\nfunction renderCountryCard(data) {\n    const markup = countryInfo(data);\n    \n    refs.queryOutputRef.classList.add('query-output');\n    refs.queryOutputRef.innerHTML = '';\n    refs.queryOutputRef.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction renderCountries(data) {\n    const markup = countriesList(data);\n\n    refs.queryOutputRef.classList.add('query-output');\n    refs.queryOutputRef.innerHTML = '';\n    refs.queryOutputRef.insertAdjacentHTML('beforeend', markup);\n}\n\n\n\n\n\n\n\n","export default function getRefs() {\r\n    return {\r\n        inputRef: document.querySelector('#search'),\r\n        queryOutputRef: document.querySelector('#query-output'),\r\n}}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country\\\">\\r\\n    <h1 class=\\\"country-name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n    <div class=\\\"country-box\\\">\\r\\n\\r\\n\\r\\n        <div class=\\\"characteristics\\\">\\r\\n            <ul>\\r\\n                <li class=\\\"country-capital\\\"><b>Capital: </b>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</li>\\r\\n                <li class=\\\"country-population\\\"><b>Population: </b>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</li>\\r\\n                <li class=\\\"country-languages\\\"><b>Languages:</b>\\r\\n                    <ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":24},\"end\":{\"line\":15,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </ul>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"country-flag\\\">\\r\\n            <img src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \" alt=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \">\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}